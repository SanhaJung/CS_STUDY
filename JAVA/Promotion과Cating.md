# Promotion과 Casting

> 자바에서 연산은 동일한 데이터 타입에서 가능하다.  
> 프로그램 개발 시, 서로 다른 데이터 타입끼리의 연산이 필요한 경우가 있다.  
> 이런 경우 변수의 데이터 타입을 바꿔주는 작업을 <b>데이터 타입의 형변환</b>이라고 한다.

- 2byte + 3byte : 동일 데이터 타입 연산
- 2byte + 3.14double : 서로 다른 데이터 타입끼리의 연산 -> ❗️형변환 필요

<br>

## Promotion(자동 형변환, 묵시적 형변환)

> 프로그램 실행 도중에 <b>자동적으로 형변환(타입변환)</b>이 일어나는 것이다.

💡 작은 메모리 크기의 데이터 타입 -> 큰 메모리 크기의 데이터 타입

- 데이터 타입
  ![데이터타입](https://user-images.githubusercontent.com/63037344/149098721-ee6c8d58-1275-4f4a-bc9e-640ee400dcef.jpg)

- long데이터 타입의 메모리 크기가 float보다 크지만 long -> float 형변환이 가능하다. 표현할 수 있는 범위가 float가 더 크기 때문이다.

  ❗️ 메모리 크기가 큰 데이터 타입이라도, 타입의 범위를 포함하지 못한다면 자동 형변환이 불가능하다.

  - byte(1) -> char(2) 불가
  - float(4) -> long(8) 불가

```java
// 'A'의 아스키코드 65
char c = 'A';
int n = c;
System.out.println((int) n);
```

> 65

 <br>

## Casting(강제 형변환, 명시적 형변환)

> 특정 조건을 갖추지 못했지만, 형변환을 하고 싶을 때 사용한다.

💡 큰 메모리 크기의 데이터 타입 -> 작은 메모리 크기의 데이터 타입  
❗️ 데이터의 손실을 감수하고 강제로 변환시킨다.

- 다음의 예시는 정수 1을 byte타입으로 변환하려고 한다. 이 경우에 정수 1은 byte데이터 타입 범위 안에 포함되는 값이기 때문에, int -> byte로 형변환해도 정상적으로 값이 유지될 것이라고 판단할 수 있다.

  ```java
  int n = 1;
  byte bt = (byte) n;

  출력 : 1
  ```

<br>

- 다음과 같이 형변환하고자 하는 값이 데이터 타입의 범위를 벗어나게 되는 경우에는 이상한 결과값이 나온다. 따라서 '특정 변수의 최대 값이 얼마인지' 잘 고려한 뒤 사용하는 것을 권고한다.

  ```java
  int n = 1234567890;
  byte b = (byte) n;
  System.out.println(b);

  출력 : -46
  ```

<br>

### 예상 질문

📌 자동 형변환과 명시적 형변환의 차이점은 무엇인가요?

> 자동 형변환은 프로그램 실행 도중에 자동으로 형변환이 발생하는 것입니다. 작은 데이터 타입을 큰 데이터 타입으로 변환할 때 이루어집니다. 명시적 형변환은 특정 조건을 갖추지 못한 경우에, 형변환을 하고 싶을 때 사용합니다. 데이터의 손실을 감수하고 큰 메모리 크기의 데이터 타입을 작은 메모리 크기의 데이터 타입으로 변환시킵니다.

<br/>
 
 📌 자동 형변환이 불가능한 경우에 대해 아시나요?
 > 메모리 크기가 큰 데이터 타입이라도, 타입의 범위를 포함하지 못한다면 자동 형변환이 불가능합니다.
<br/>

## 🔗 Reference

- https://jwt.io/introduction
