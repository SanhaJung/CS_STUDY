## 자바 가상 머신(JVM)

> 자바 프로그램을 실행하기 위해 물리적 머신을 소프트웨어로 구현한 것 (바이트코드를 실행시켜주는 가상머신)

<br>

### 💡 들어가기 전
#### JDK, JRE, JVM 의 포함 관계

![image](https://user-images.githubusercontent.com/27480253/148051289-2865f189-bfa8-4802-b580-ddf177b452b9.png)

> JDK - 개발도구 키트, JAVA등 컴파일러 디버거 등을 포함하는 프로그램
> 
> JRE - JVM과 각종 자바 라이브러리를 포함하는 자바 실행 환경

<hr>
<br>

### JVM의 역할

![image](https://user-images.githubusercontent.com/27480253/148051411-29da8e45-27b7-47c3-818a-5dba212b3d6b.png)

> JVM은 자바와 OS사이에서 중개자 역할을 수행하여 OS에 독립적인 플랫폼을 갖게 해준다. 즉 OS 의 메모리 영역에 직접적으로 접근하지 않고 JVM 이라는 가상 머신을 이용해서 간접적으로 접근한다. – Write Once Run Anywhere

> JVM은 프로그램의 메모리 관리를 알아서 해준다. C프로그램 같은 경우에는 직접 메모리 할당을 해주고 해지해줘야한다. 하지만 자바에서는 JVM이 자동으로 메모리 관리를 해주는 장점이 있다. – Garbage collector(JVM이 판단해서 힙영역의 할당된 메모리를 삭제)

<hr>
<br>

### 자바 실행 과정

![image](https://user-images.githubusercontent.com/27480253/148051532-f90cb95c-4716-498d-97b4-5deae3bf9607.png)

> - 자바 소스(.java)를 자바 컴파일러가를 통해 자바 바이트 코드로 컴파일
> - 컴파일된 바이트 코드(.class)를 JVM의 클래스로더에게 전달
> - 클래스로더는 동적로딩을 통해 필요한 클래스들을 로딩 및 링크하여 런타임 데이터 영역에(jvm 메모리)에 올림
> - 실해 엔진은 JVM 메모리에 올라온 바이트 코드들을 명령어 단위로 하나씩 가져와서 실행
> (구조 – 클래스로더 시스템, 메모리, 실행헨진, 자바네이티브 인터페이스 + 메소드 라이브러리)

